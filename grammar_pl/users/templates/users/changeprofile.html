{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}

{% with WIDGET_ERROR_CLASS='uk-form-danger' %}

<div class="uk-section uk-section-muted uk-flex uk-flex-center">
    <div class="uk-container uk-padding" uk-grid>
        <form enctype="multipart/form-data" class="" method="post">
            {% csrf_token %}
            <div class="uk-width-medium@s">
                <img src="{{ object.avatar.url }}" class="uk-width-2-3 uk-align-center uk-border-circle">
                <div class="uk-card-body uk-card-default uk-card-small" style="padding-top: 80px; border-radius: 80px 80px 0px 0px; margin-top: -90px; border-bottom: 4px solid grey;">
                    <h3 class="uk-card-title uk-margin-remove-bottom">{{ object.username }}</h3>
                    <p class="uk-text-meta uk-margin-remove-top">Dołączył: {{ object.date_joined }}</p>
                    <hr>
                    <!-- O SOBIE -->
                    <p class="uk-margin-remove">O sobie:</p>
                    <div class="uk-text-meta">{% render_field form.about class+="uk-input uk-border-rounded" %}</div>
                    <div class="uk-text-danger uk-text-small">
                        {% for error in form.about.errors %}
                        <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                    <!-- DANE -->
                    <p class="uk-margin-remove-bottom">Informacje:</p>
                    <div class="uk-text-meta">Imie: {% render_field form.first_name class+="uk-input uk-border-rounded" %}</div>
                    <div class="uk-text-danger uk-text-small">
                        {% for error in form.first_name.errors %}
                        <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                    <div class="uk-text-meta">Data urodzenia: {% render_field form.birth class+="uk-input uk-border-rounded" %}</div>
                    <div class="uk-text-meta uk-list">{{ form.birth.help_text }}</div>
                    <div class="uk-text-danger uk-text-small">
                        {% for error in form.birth.errors %}
                        <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                    <p class="uk-margin-remove-bottom">Avatar:</p>
                    {% render_field form.avatar %}
                    <div class="uk-text-danger uk-text-small">
                        {% for error in form.avatar.errors %}
                        <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                </div>
                <div class="uk-width-1-1 uk-text-center uk-visible@s">
                    <img src="{% static 'img/books.png' %}" class="uk-width-small">
                    <button class="uk-button uk-button-primary" type="submit">Zapisz zmiany</button>
                </div>
            </div>
        </form>
{% endwith %}
    </div>
</div>

{% endblock content %}